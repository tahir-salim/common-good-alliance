$(window).on("load", function () {
    if (window.innerWidth > 991) {

    }
	if ($("body").hasClass("home")) {
		 preLoader(tl);
	}
	lenisSetup();
});
$(window).scroll(function() {
	var scroll = $(window).scrollTop();
	if (scroll >= 80) {
		$(".fixed").addClass("sticky");
	} else {
		$(".fixed").removeClass("sticky");
	}
  });


  $('[data-targetit]').on('click', function(e) {
    $(this).addClass('active');
    $(this).siblings().removeClass('active');
    var target = $(this).data('targetit');
    $('.' + target).siblings('[class^="box-"]').hide();
    $('.' + target).fadeIn();
    //$('.package_slider .row').slick('setPosition');
});        



// Gsap Loader //

const tl = gsap.timeline({ duration: 0.01 });
function preLoader(tl) {
	tl.to('.preLoader.black > img, .preLoader.black > h2', {
		delay: 1,
		y: 50,
		autoAlpha: 0
	})
	.to('.preLoader.black', { yPercent: -100 })
	.to('.preLoader.white', { yPercent: -100 })
	.to('.preLoader', { css: { display: 'none' } })
	.from('.menuWrap', { x: 50, autoAlpha: 0 })
	.from('.bannCont h1', { y: 50, autoAlpha: 0 })
	.from('.bannCont p, .bannCont a', { autoAlpha: 0, y: 200, stagger: 0.05 })

}

	jQuery(function($) {
		var path = window.location.href; 
		// because the 'href' property of the DOM element is the absolute path
		$('.navbar-nav li a').each(function() {
		  if (this.href === path) {
			$(this).parent().addClass('active');
		  }
		});
	  });

	

function mousecursor() {
	if ($('body')) {
		const e = document.querySelector('.cursor-inner'),
			t = document.querySelector('.cursor-outer');
			card = document.querySelectorAll(".portfolioSec .box_item");
		let n,
			i = 0,
			o = !1;
		(window.onmousemove = function (s) {
			o || (t.style.transform = 'translate(' + s.clientX + 'px, ' + s.clientY + 'px)'), (e.style.transform = 'translate(' + s.clientX + 'px, ' + s.clientY + 'px)'), (n = s.clientY), (i = s.clientX);
		}),
		$('body').on('mouseenter', 'a, img, .cursor-pointer', function () {
			e.classList.add('cursor-hover'), t.classList.add('cursor-hover');
		}),
		$('body').on('mouseleave', 'a, img, .cursor-pointer', function () {
			($(this).is('a, img') && $(this).closest('.cursor-pointer').length) || (e.classList.remove('cursor-hover'), t.classList.remove('cursor-hover'));
		}),
		(e.style.visibility = 'visible'),
		(t.style.visibility = 'visible');

		card.forEach((el) => {
			el.addEventListener("mouseenter", () => {
				e.classList.add("active");
			});
		
			el.addEventListener("mouseleave", () => {
				e.classList.remove("active");
			});
		});

	}
}

$(function () {
	mousecursor();
});

$(function () {
    AOS.init({
        duration: 1200,
    disable: function() {
    var maxWidth = 1200;
    return window.innerWidth < maxWidth;
  }
    });
})


function lenisSetup() {
    const lenis = new Lenis({
        duration: 1.2,
		easing: (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t)),
		direction: "vertical",
		gestureDirection: "vertical",
		smooth: true,
		smoothTouch: false,
		touchMultiplier: 2,
    })
    lenis.scrollTo(document.querySelector('.scrolllenis'))

    function raf(time) {
        lenis.raf(time)
        requestAnimationFrame(raf)
    }

    requestAnimationFrame(raf);
    
}

$(".menu-Bar").click(function () {
	$(this).toggleClass("open");
	$(".menuWrap").toggleClass("open");
	$("body").toggleClass("ovr-hiddn");
});



// // SLIDER
function mainSlider1Init() {
	var interleaveOffset = 0.5;
	var swiperOptions = {
	  loop: true,
	  speed: 1000,
	  parallax: true,
	  autoplay: true,
	  grabCursor: false,
	  pagination: {
        el: '.swiper-pagination',
        clickable: true,
    },
	navigation: {
		nextEl: '#swipernext',
		prevEl: '#swiperprev'
	},
	};
  
	var homeSlider = new Swiper(".BannSlider", swiperOptions);
  
	var pageSection = $(".bg-image");
	pageSection.each(function (indx) {
	  if ($(this).attr("data-background")) {
		$(this).css(
		  "background-image",
		  "url(" + $(this).data("background") + ")"
		);
	  }
	});
  }



  var blogSlider = new Swiper(".blogSlider", {
	spaceBetween: 20,
	slidesPerView: 3.5,
	centeredSlides: true,
	loop: true,
	autoplay: true,
	speed: 1200,
	breakpoints: {
		1024: {
			slidesPerView: 3.5
		},
		768: {
			slidesPerView: 2
		},
		300: {
			slidesPerView: 1
		}
	},
	navigation: {
		nextEl: '#swiperNext2',
	},
  });

//   const sections = gsap.utils.toArray('figure, div, a')

//   sections.forEach((sec, i) => {
	
// 	const blureffect = sec.querySelector('.blur1');
// 	gsap.set(".blur1", { filter: "blur(10px)" });
	
// 	gsap.to(blureffect, { 
	
// 	  filter: "blur(0px)",
// 	  ease: "none",
	  
// 	  scrollTrigger: {
// 		trigger: blureffect,
// 		start: 'top 80%',
// 		toggleActions: "play none none reverse",
// 		markers: false
// 	  }
	  
// 	})
  
//   });


